<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Happy Birthday My Dearest Sister!</title>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary-color: #43c6ac;
      --secondary-color: #ffb6b9;
      --accent-color: #b5ead7;
      --bg-gradient: linear-gradient(135deg, #f8ffae 0%, #43c6ac 100%);
    }
    
    body {
      margin: 0;
      padding: 0;
      min-height: 100vh;
      background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-family: 'Montserrat', sans-serif;
      overflow-x: hidden;
      transition: background 0.5s ease;
    }
    
    /* Theme Switcher */
    .theme-switcher {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
      background: rgba(255, 255, 255, 0.9);
      border-radius: 25px;
      padding: 10px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }
    
    .theme-btn {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      border: none;
      margin: 0 5px;
      cursor: pointer;
      transition: transform 0.3s;
    }
    
    .theme-btn:hover {
      transform: scale(1.2);
    }
    
    .theme-1 { background: linear-gradient(135deg, #f8ffae 0%, #43c6ac 100%); }
    .theme-2 { background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); }
    .theme-3 { background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); }
    .theme-4 { background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%); }
    
    /* Floating Animations */
    .floating-hearts {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      z-index: 50;
    }
    
    .floating-heart {
      position: absolute;
      font-size: 20px;
      animation: float 6s linear infinite;
      opacity: 0.7;
    }
    
    @keyframes float {
      0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 0.7;
      }
      90% {
        opacity: 0.7;
      }
      100% {
        transform: translateY(-100px) rotate(360deg);
        opacity: 0;
      }
    }
    
    .rotating-star {
      position: absolute;
      font-size: 15px;
      animation: rotate 8s linear infinite;
      opacity: 0.8;
    }
    
    @keyframes rotate {
      0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 0.8;
      }
      90% {
        opacity: 0.8;
      }
      100% {
        transform: translateY(-100px) rotate(720deg);
        opacity: 0;
      }
    }
    
    /* Bouncing Balloons */
    .bouncing-balloon {
      position: absolute;
      width: 30px;
      height: 40px;
      border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
      animation: bounce 4s ease-in-out infinite;
      opacity: 0.8;
    }
    
    @keyframes bounce {
      0%, 100% {
        transform: translateY(100vh) scale(1);
      }
      50% {
        transform: translateY(50vh) scale(1.1);
      }
    }
    
    /* Fireworks */
    .firework {
      position: absolute;
      width: 4px;
      height: 4px;
      border-radius: 50%;
      animation: explode 1s ease-out forwards;
    }
    
    @keyframes explode {
      0% {
        transform: scale(0);
        opacity: 1;
      }
      100% {
        transform: scale(20);
        opacity: 0;
      }
    }
    
    /* Interactive Gifts */
    .gift-container {
      position: absolute;
      top: 20px;
      left: 20px;
      z-index: 200;
    }
    
    .gift-box {
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, #ff6b6b, #ffb6b9);
      border-radius: 10px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
      transition: transform 0.3s;
      animation: giftBounce 2s infinite;
    }
    
    @keyframes giftBounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    
    .gift-box:hover {
      transform: scale(1.1) rotate(5deg);
    }
    
    .gift-message {
      position: absolute;
      top: -40px;
      left: 50%;
      transform: translateX(-50%);
      background: white;
      padding: 8px 12px;
      border-radius: 15px;
      font-size: 12px;
      color: #333;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      opacity: 0;
      transition: opacity 0.3s;
      white-space: nowrap;
    }
    
    .gift-box:hover .gift-message {
      opacity: 1;
    }
    
    /* Social Sharing */
    .social-buttons {
      position: fixed;
      bottom: 20px;
      left: 20px;
      z-index: 1000;
      display: flex;
      gap: 10px;
    }
    
    .social-btn {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      border: none;
      cursor: pointer;
      font-size: 20px;
      transition: transform 0.3s;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }
    
    .social-btn:hover {
      transform: scale(1.1);
    }
    
    .share-btn { background: #25d366; color: white; }
    .download-btn { background: #ff6b6b; color: white; }
    
    /* Mini Games */
    .game-container {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
      z-index: 2000;
      display: none;
      max-width: 400px;
      text-align: center;
    }
    
    .game-close {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 24px;
      cursor: pointer;
      color: #666;
    }
    
    .memory-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
      margin: 20px 0;
    }
    
    .memory-card {
      width: 60px;
      height: 60px;
      background: #43c6ac;
      border-radius: 10px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      transition: transform 0.3s;
    }
    
    .memory-card.flipped {
      transform: rotateY(180deg);
      background: #ffb6b9;
    }
    
    /* Countdown Timer Styles */
    .countdown-container {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      padding: 20px 30px;
      margin-bottom: 30px;
      box-shadow: 0 8px 32px rgba(67, 198, 172, 0.2);
      border: 2px solid var(--primary-color);
      text-align: center;
      animation: countdownFloat 3s ease-in-out infinite;
      position: relative;
      overflow: hidden;
      cursor: pointer;
      transition: transform 0.3s;
    }
    
    .countdown-container:hover {
      transform: scale(1.02);
    }
    
    @keyframes countdownFloat {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }
    
    .countdown-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
      animation: shimmer 2s infinite;
    }
    
    @keyframes shimmer {
      0% { left: -100%; }
      100% { left: 100%; }
    }
    
    .countdown-title {
      font-family: 'Pacifico', cursive;
      color: var(--secondary-color);
      font-size: 1.4rem;
      margin-bottom: 15px;
      text-shadow: 0 2px 4px rgba(255, 182, 185, 0.3);
    }
    
    .countdown-timer {
      display: flex;
      gap: 15px;
      justify-content: center;
      flex-wrap: wrap;
    }
    
    .countdown-item {
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: white;
      padding: 12px 15px;
      border-radius: 12px;
      min-width: 60px;
      box-shadow: 0 4px 15px rgba(67, 198, 172, 0.3);
      position: relative;
      animation: pulse 2s infinite;
      cursor: pointer;
      transition: transform 0.3s;
    }
    
    .countdown-item:hover {
      transform: scale(1.1);
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    
    .countdown-number {
      font-size: 1.8rem;
      font-weight: bold;
      display: block;
      line-height: 1;
    }
    
    .countdown-label {
      font-size: 0.7rem;
      opacity: 0.9;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .countdown-separator {
      font-size: 1.5rem;
      color: var(--primary-color);
      font-weight: bold;
      align-self: center;
      animation: blink 1s infinite;
    }
    
    @keyframes blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0.3; }
    }
    
    .countdown-message {
      margin-top: 15px;
      font-size: 1rem;
      color: var(--primary-color);
      font-weight: 600;
    }
    
    .confetti {
      position: fixed;
      top: 0; left: 0; width: 100vw; height: 100vh;
      pointer-events: none;
      z-index: 100;
    }
    .card {
      background: rgba(255,255,255,0.98);
      border-radius: 32px;
      box-shadow: 0 12px 36px 0 rgba(60, 60, 60, 0.22), 0 0 0 6px rgba(67, 198, 172, 0.2);
      padding: 48px 32px 36px 32px;
      max-width: 370px;
      text-align: center;
      transition: transform 0.22s, box-shadow 0.22s;
      cursor: pointer;
      position: relative;
      overflow: visible;
      border: 3px solid;
      border-image: linear-gradient(120deg, var(--primary-color) 0%, var(--secondary-color) 100%) 1;
      animation: shine 2.5s linear infinite;
    }
    @keyframes shine {
      0% { box-shadow: 0 12px 36px 0 rgba(60, 60, 60, 0.22), 0 0 0 6px rgba(67, 198, 172, 0.2); }
      50% { box-shadow: 0 16px 48px 0 rgba(67, 198, 172, 0.25), 0 0 16px 6px rgba(255, 182, 185, 0.3); }
      100% { box-shadow: 0 12px 36px 0 rgba(60, 60, 60, 0.22), 0 0 0 6px rgba(67, 198, 172, 0.2); }
    }
    .card:hover {
      transform: scale(1.06) rotate(-2deg);
      box-shadow: 0 20px 60px 0 rgba(67, 198, 172, 0.28), 0 0 0 8px rgba(255, 182, 185, 0.3);
    }
    .avatar {
      width: 72px;
      height: 72px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid var(--primary-color);
      margin-bottom: 12px;
      box-shadow: 0 2px 12px rgba(67, 198, 172, 0.2);
      background: #fff;
    }
    .quote {
      font-size: 1.05rem;
      color: var(--accent-color);
      font-style: italic;
      margin-bottom: 18px;
      margin-top: 0;
    }
    .balloons {
      position: absolute;
      top: -40px;
      left: 50%;
      transform: translateX(-50%);
      width: 120px;
      height: 80px;
      z-index: 0;
    }
    .balloon {
      width: 32px;
      height: 40px;
      border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
      position: absolute;
      opacity: 0.85;
      filter: drop-shadow(0 2px 6px #0002);
    }
    .balloon1 { background: var(--secondary-color); left: 0; top: 10px; }
    .balloon2 { background: #fcd5ce; left: 40px; top: 0; }
    .balloon3 { background: var(--accent-color); left: 80px; top: 15px; }
    .balloon4 { background: #c7ceea; left: 60px; top: 30px; }
    .card h1 {
      font-family: 'Pacifico', cursive;
      font-size: 2.3rem;
      color: var(--primary-color);
      margin-bottom: 10px;
      margin-top: 18px;
      letter-spacing: 1px;
      text-shadow: 0 2px 8px rgba(67, 198, 172, 0.2);
    }
    .card p {
      font-size: 1.13rem;
      color: #444;
      margin-bottom: 18px;
    }
    .card .date {
      font-size: 1.05rem;
      color: #888;
      margin-bottom: 8px;
    }
    .card .from {
      font-size: 1.05rem;
      color: var(--primary-color);
      font-weight: bold;
      margin-top: 18px;
      letter-spacing: 0.5px;
    }
    .card .arrow {
      margin-top: 18px;
      font-size: 2rem;
      color: var(--primary-color);
      animation: bounce 1.2s infinite;
    }
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(10px); }
    }
    /* Blessings Modal */
    .modal {
      display: none;
      position: fixed;
      z-index: 10;
      left: 0;
      top: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(67, 198, 172, 0.15);
      align-items: center;
      justify-content: center;
    }
    .modal-content {
      background: #fff;
      border-radius: 20px;
      padding: 36px 28px 28px 28px;
      max-width: 420px;
      box-shadow: 0 8px 32px 0 rgba(60, 60, 60, 0.18);
      text-align: center;
      position: relative;
      animation: fadeIn 0.5s;
    }
    .modal-doodle {
      font-size: 2.2rem;
      margin-bottom: 8px;
      animation: doodlePop 1.2s infinite alternate;
    }
    @keyframes doodlePop {
      0% { transform: scale(1); }
      100% { transform: scale(1.12) rotate(-6deg); }
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }
    .close-btn {
      position: absolute;
      top: 12px;
      right: 18px;
      font-size: 1.5rem;
      color: var(--primary-color);
      background: none;
      border: none;
      cursor: pointer;
      font-family: inherit;
    }
    .modal-content h2 {
      font-family: 'Pacifico', cursive;
      color: var(--secondary-color);
      margin-bottom: 12px;
    }
    .modal-content ul {
      text-align: left;
      margin: 0 auto 18px auto;
      padding: 0 0 0 18px;
      color: #444;
      font-size: 1.08rem;
    }
    .modal-content .from {
      color: var(--primary-color);
      font-weight: bold;
      margin-top: 18px;
    }
    .photo-frame {
      width: 110px;
      height: 110px;
      border-radius: 50%;
      object-fit: cover;
      border: 5px solid var(--secondary-color);
      box-shadow: 0 4px 24px rgba(67, 198, 172, 0.2), 0 0 0 8px #fff;
      margin: 0 auto 10px auto;
      display: block;
      background: #fff;
      position: relative;
      z-index: 2;
      transition: transform 0.18s;
    }
    .photo-frame:hover {
      transform: scale(1.04) rotate(-2deg);
      box-shadow: 0 8px 32px rgba(255, 182, 185, 0.3), 0 0 0 10px #fff;
    }
    .sparkle {
      position: absolute;
      top: 18px;
      right: 18px;
      font-size: 1.6rem;
      color: #fcd5ce;
      animation: sparkle 1.2s infinite alternate;
      z-index: 3;
    }
    @keyframes sparkle {
      0% { opacity: 0.7; transform: scale(1) rotate(0deg); }
      100% { opacity: 1; transform: scale(1.2) rotate(18deg); }
    }
    .animated-heart {
      position: absolute;
      left: 18px;
      top: 18px;
      font-size: 1.5rem;
      color: var(--secondary-color);
      animation: heartBeat 1.1s infinite alternate;
      z-index: 3;
    }
    @keyframes heartBeat {
      0% { transform: scale(1); }
      100% { transform: scale(1.18); }
    }
    @media (max-width: 500px) {
      .card, .modal-content {
        max-width: 95vw;
        padding: 18px 8px;
      }
      .avatar { width: 54px; height: 54px; }
      .countdown-container {
        padding: 15px 20px;
        margin-bottom: 20px;
      }
      .countdown-timer {
        gap: 10px;
      }
      .countdown-item {
        min-width: 50px;
        padding: 10px 12px;
      }
      .countdown-number {
        font-size: 1.5rem;
      }
      .countdown-label {
        font-size: 0.6rem;
      }
      .social-buttons {
        bottom: 10px;
        left: 10px;
      }
      .social-btn {
        width: 40px;
        height: 40px;
        font-size: 16px;
      }
    }
  </style>
</head>
<body>
  <!-- Theme Switcher -->
  <div class="theme-switcher">
    <button class="theme-btn theme-1" onclick="changeTheme(1)"></button>
    <button class="theme-btn theme-2" onclick="changeTheme(2)"></button>
    <button class="theme-btn theme-3" onclick="changeTheme(3)"></button>
    <button class="theme-btn theme-4" onclick="changeTheme(4)"></button>
  </div>

  <!-- Interactive Gifts -->
  <div class="gift-container">
    <div class="gift-box" onclick="openGame()">
      üéÅ
      <div class="gift-message">Click for Birthday Game!</div>
    </div>
  </div>

  <!-- Social Sharing -->
  <div class="social-buttons">
    <button class="social-btn share-btn" onclick="shareCard()">üì§</button>
    <button class="social-btn download-btn" onclick="downloadCard()">üíæ</button>
  </div>

  <!-- Floating Animations Container -->
  <div class="floating-hearts" id="floatingContainer"></div>

  <canvas class="confetti" id="confetti"></canvas>
  
  <!-- Countdown Timer -->
  <div class="countdown-container" id="countdownContainer" onclick="countdownSurprise()">
    <div class="countdown-title">üéÇ Tanshi's Birthday Countdown üéÇ</div>
    <div class="countdown-timer">
      <div class="countdown-item" onclick="showMilestone('days')">
        <span class="countdown-number" id="days">00</span>
        <span class="countdown-label">Days</span>
      </div>
      <div class="countdown-separator">:</div>
      <div class="countdown-item" onclick="showMilestone('hours')">
        <span class="countdown-number" id="hours">00</span>
        <span class="countdown-label">Hours</span>
      </div>
      <div class="countdown-separator">:</div>
      <div class="countdown-item" onclick="showMilestone('minutes')">
        <span class="countdown-number" id="minutes">00</span>
        <span class="countdown-label">Minutes</span>
      </div>
      <div class="countdown-separator">:</div>
      <div class="countdown-item" onclick="showMilestone('seconds')">
        <span class="countdown-number" id="seconds">00</span>
        <span class="countdown-label">Seconds</span>
      </div>
    </div>
    <div class="countdown-message" id="countdownMessage">Getting closer to your special day! ‚ú®</div>
  </div>

  <div class="card" id="birthdayCard" style="overflow:visible;" onclick="createFireworks(event)">
    <span class="animated-heart">‚ù§Ô∏è</span>
    <span class="sparkle">‚ú®</span>
    <!-- Tanshi ki photo yahan lagayenge -->
    <img src="https://i.postimg.cc/cH2bx04K/IMG-20250623-231516-158.jpg" alt="Tanshi Photo" class="photo-frame">
    <!-- Agar photo nahi hai to neeche avatar dikhega -->
    <!-- <img src="https://api.dicebear.com/7.x/fun-emoji/svg?seed=girl" alt="Tanshi Avatar" class="avatar"> -->
    <div class="balloons">
      <div class="balloon balloon1"></div>
      <div class="balloon balloon2"></div>
      <div class="balloon balloon3"></div>
      <div class="balloon balloon4"></div>
    </div>
    <h1>Happy Birthday My Dearest Sister!</h1>
    <div class="date">4 July</div>
    <div class="quote">"You are a blessing to everyone around you!"</div>
    <p>Dear Tanshi,<br>
      Wishing you a day filled with love, laughter, and all your favorite things!<br>
      You are the sunshine of our family and I am so lucky to have you as my sister.<br>
      <b>Keep smiling, keep shining!</b>
    </p>
    <div class="from">‚Äî Jagrit</div>
    <div class="arrow">&#8595;</div>
  </div>

  <!-- Mini Game Modal -->
  <div class="game-container" id="gameModal">
    <div class="game-close" onclick="closeGame()">&times;</div>
    <h2>üéÆ Birthday Memory Game</h2>
    <p>Find matching birthday emojis!</p>
    <div class="memory-grid" id="memoryGrid"></div>
    <p id="gameScore">Score: 0</p>
    <button onclick="resetGame()" style="background: var(--primary-color); color: white; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer;">Reset Game</button>
  </div>

  <!-- Blessings Modal -->
  <div class="modal" id="blessingsModal">
    <div class="modal-content">
      <button class="close-btn" id="closeModal">&times;</button>
      <div class="modal-doodle">üéÇ‚ú®</div>
      <h2>Blessings for You</h2>
      <ul>
        <li>May your smile always shine as bright as today! üòä</li>
        <li>May you achieve all your dreams and goals. üåü</li>
        <li>May happiness and love surround you always. üíñ</li>
        <li>May you always stay as sweet and caring as you are. üç¨</li>
        <li>May God bless you with good health and endless joy. üôè</li>
        <li>May you always find reasons to laugh and celebrate. ü•≥</li>
        <li>May your journey ahead be filled with success and adventure. üöÄ</li>
      </ul>
      <div style="font-family: 'Pacifico', cursive; color: var(--accent-color); font-size: 1.1rem; margin-bottom: 10px;">Always keep your heart pure and your dreams big! üíö</div>
      <div class="from">‚Äî With lots of love, Jagrit</div>
    </div>
  </div>

  <script>
    // Theme Management
    const themes = {
      1: {
        primary: '#43c6ac',
        secondary: '#ffb6b9',
        accent: '#b5ead7',
        bg: 'linear-gradient(135deg, #f8ffae 0%, #43c6ac 100%)'
      },
      2: {
        primary: '#ff6b6b',
        secondary: '#fecfef',
        accent: '#ff9a9e',
        bg: 'linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)'
      },
      3: {
        primary: '#a8edea',
        secondary: '#fed6e3',
        accent: '#a8edea',
        bg: 'linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)'
      },
      4: {
        primary: '#fcb69f',
        secondary: '#ffecd2',
        accent: '#fcb69f',
        bg: 'linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)'
      }
    };

    function changeTheme(themeNum) {
      const theme = themes[themeNum];
      document.documentElement.style.setProperty('--primary-color', theme.primary);
      document.documentElement.style.setProperty('--secondary-color', theme.secondary);
      document.documentElement.style.setProperty('--accent-color', theme.accent);
      document.documentElement.style.setProperty('--bg-gradient', theme.bg);
      document.body.style.background = theme.bg;
    }

    // Floating Animations
    function createFloatingElements() {
      const container = document.getElementById('floatingContainer');
      const emojis = ['‚ù§Ô∏è', '‚ú®', 'üéÇ', 'üéà', 'üéÅ', 'üåü', 'üíñ', 'üéâ'];
      const colors = ['#ff6b6b', '#ffb6b9', '#43c6ac', '#b5ead7', '#fcd5ce'];
      
      setInterval(() => {
        const element = document.createElement('div');
        element.className = Math.random() > 0.5 ? 'floating-heart' : 'rotating-star';
        element.textContent = emojis[Math.floor(Math.random() * emojis.length)];
        element.style.left = Math.random() * 100 + 'vw';
        element.style.color = colors[Math.floor(Math.random() * colors.length)];
        element.style.animationDuration = (Math.random() * 3 + 3) + 's';
        
        container.appendChild(element);
        
        setTimeout(() => {
          element.remove();
        }, 6000);
      }, 2000);
    }

    // Fireworks Effect
    function createFireworks(event) {
      const colors = ['#ff6b6b', '#ffb6b9', '#43c6ac', '#b5ead7', '#fcd5ce'];
      
      for (let i = 0; i < 10; i++) {
        const firework = document.createElement('div');
        firework.className = 'firework';
        firework.style.left = event.clientX + 'px';
        firework.style.top = event.clientY + 'px';
        firework.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        firework.style.animationDelay = Math.random() * 0.5 + 's';
        
        document.body.appendChild(firework);
        
        setTimeout(() => {
          firework.remove();
        }, 1000);
      }
    }

    // Mini Game
    let gameScore = 0;
    let flippedCards = [];
    let matchedPairs = 0;
    const gameEmojis = ['üéÇ', 'üéà', 'üéÅ', 'üåü', 'üíñ', 'üéâ', '‚ú®', 'üç∞'];

    function openGame() {
      document.getElementById('gameModal').style.display = 'block';
      resetGame();
    }

    function closeGame() {
      document.getElementById('gameModal').style.display = 'none';
    }

    function resetGame() {
      gameScore = 0;
      matchedPairs = 0;
      flippedCards = [];
      document.getElementById('gameScore').textContent = 'Score: 0';
      createMemoryGrid();
    }

    function createMemoryGrid() {
      const grid = document.getElementById('memoryGrid');
      grid.innerHTML = '';
      
      const allEmojis = [...gameEmojis, ...gameEmojis];
      allEmojis.sort(() => Math.random() - 0.5);
      
      allEmojis.forEach((emoji, index) => {
        const card = document.createElement('div');
        card.className = 'memory-card';
        card.dataset.emoji = emoji;
        card.dataset.index = index;
        card.onclick = () => flipCard(card);
        grid.appendChild(card);
      });
    }

    function flipCard(card) {
      if (flippedCards.length === 2 || card.classList.contains('flipped')) return;
      
      card.classList.add('flipped');
      card.textContent = card.dataset.emoji;
      flippedCards.push(card);
      
      if (flippedCards.length === 2) {
        setTimeout(checkMatch, 1000);
      }
    }

    function checkMatch() {
      const [card1, card2] = flippedCards;
      
      if (card1.dataset.emoji === card2.dataset.emoji) {
        gameScore += 10;
        matchedPairs++;
        if (matchedPairs === gameEmojis.length) {
          alert('üéâ Congratulations! You won! üéâ');
        }
      } else {
        card1.classList.remove('flipped');
        card2.classList.remove('flipped');
        card1.textContent = '';
        card2.textContent = '';
      }
      
      document.getElementById('gameScore').textContent = `Score: ${gameScore}`;
      flippedCards = [];
    }

    // Social Sharing
    function shareCard() {
      if (navigator.share) {
        navigator.share({
          title: 'Happy Birthday My Dearest Sister!',
          text: 'Check out this beautiful birthday card!',
          url: window.location.href
        });
      } else {
        alert('Share this link: ' + window.location.href);
      }
    }

    function downloadCard() {
      // Create a canvas and draw the card
      const card = document.getElementById('birthdayCard');
      html2canvas(card).then(canvas => {
        const link = document.createElement('a');
        link.download = 'birthday-card.png';
        link.href = canvas.toDataURL();
        link.click();
      });
    }

    // Interactive Countdown
    function countdownSurprise() {
      createFireworks({ clientX: window.innerWidth / 2, clientY: window.innerHeight / 2 });
      showMilestone('countdown');
    }

    function showMilestone(type) {
      const messages = {
        days: 'üéÇ Days until your special day!',
        hours: '‚è∞ Hours ticking away!',
        minutes: '‚è±Ô∏è Minutes of excitement!',
        seconds: '‚ö° Every second counts!',
        countdown: 'üéâ Countdown to your birthday!'
      };
      
      alert(messages[type] || 'üéä Birthday countdown!');
    }

    // Countdown Timer Function
    function updateCountdown() {
      const now = new Date().getTime();
      const currentYear = new Date().getFullYear();
      let birthday = new Date(currentYear, 6, 4, 0, 0, 0).getTime(); // July 4th (month is 0-indexed)
      
      // If birthday has passed this year, set it to next year
      if (now > birthday) {
        birthday = new Date(currentYear + 1, 6, 4, 0, 0, 0).getTime();
      }
      
      const distance = birthday - now;
      
      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);
      
      document.getElementById('days').textContent = days.toString().padStart(2, '0');
      document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
      document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
      document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
      
      // Update message based on time remaining
      const countdownMessage = document.getElementById('countdownMessage');
      if (days === 0 && hours === 0 && minutes === 0 && seconds === 0) {
        countdownMessage.textContent = "üéâ It's Tanshi's Birthday! üéâ";
        countdownMessage.style.color = '#ff6b6b';
        countdownMessage.style.fontWeight = 'bold';
      } else if (days === 0 && hours < 24) {
        countdownMessage.textContent = "Almost there! The big day is tomorrow! üéÇ";
        countdownMessage.style.color = '#ffb6b9';
      } else if (days === 1) {
        countdownMessage.textContent = "Just one more day! Get ready to celebrate! üéà";
        countdownMessage.style.color = '#ffb6b9';
      } else if (days < 7) {
        countdownMessage.textContent = "Less than a week to go! The excitement is building! ‚ú®";
        countdownMessage.style.color = '#43c6ac';
      } else {
        countdownMessage.textContent = "Getting closer to your special day! ‚ú®";
        countdownMessage.style.color = '#43c6ac';
      }
    }
    
    // Update countdown every second
    setInterval(updateCountdown, 1000);
    updateCountdown(); // Initial call
    
    // Start floating animations
    createFloatingElements();
    
    // Confetti animation
    const confetti = document.getElementById('confetti');
    const ctx = confetti.getContext('2d');
    let W = window.innerWidth, H = window.innerHeight;
    confetti.width = W; confetti.height = H;
    let particles = [];
    let colors = ['#ffb6b9', '#fcd5ce', '#b5ead7', '#c7ceea', '#43c6ac'];
    for(let i=0;i<80;i++){
      particles.push({
        x: Math.random()*W,
        y: Math.random()*H - H,
        r: Math.random()*7+4,
        d: Math.random()*80,
        color: colors[Math.floor(Math.random()*colors.length)],
        tilt: Math.random()*10-10,
        tiltAngleIncremental: (Math.random()*0.07)+.05,
        tiltAngle: 0
      });
    }
    function draw(){
      ctx.clearRect(0,0,W,H);
      for(let i=0;i<particles.length;i++){
        let p = particles[i];
        ctx.beginPath();
        ctx.lineWidth = p.r;
        ctx.strokeStyle = p.color;
        ctx.moveTo(p.x + p.tilt + p.r/3, p.y);
        ctx.lineTo(p.x, p.y + p.tilt + p.r/3);
        ctx.stroke();
      }
      update();
    }
    function update(){
      for(let i=0;i<particles.length;i++){
        let p = particles[i];
        p.y += (Math.cos(p.d)+3+ p.r/2)/2;
        p.x += Math.sin(0.5)+2;
        p.tiltAngle += p.tiltAngleIncremental;
        p.tilt = Math.sin(p.tiltAngle- (i%3)) * 15;
        if(p.y > H){
          p.x = Math.random()*W;
          p.y = -10;
        }
      }
    }
    setInterval(draw, 33);
    window.addEventListener('resize',()=>{
      W = window.innerWidth; H = window.innerHeight;
      confetti.width = W; confetti.height = H;
    });
    // Modal logic
    const card = document.getElementById('birthdayCard');
    const modal = document.getElementById('blessingsModal');
    const closeModal = document.getElementById('closeModal');
    card.addEventListener('click', () => {
      modal.style.display = 'flex';
    });
    closeModal.addEventListener('click', () => {
      modal.style.display = 'none';
    });
    window.onclick = function(event) {
      if (event.target == modal) {
        modal.style.display = 'none';
      }
    }
  </script>
  
  <!-- HTML2Canvas for download functionality -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</body>
</html> 